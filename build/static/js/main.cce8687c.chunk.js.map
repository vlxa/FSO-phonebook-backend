{"version":3,"sources":["components/entry.js","components/new-entry.js","components/filter.js","components/notification.js","services/phonebook.js","App.js","index.js"],"names":["Entry","name","number","removeEntry","entry","onClick","NewEntry","addNewEntry","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","placeholder","value","onChange","type","Filter","filter","handleFilterChange","Notification","message","className","style","opacity","baseUrl","exportObject","getAll","axios","get","then","response","console","log","data","create","newObject","post","remove","id","delete","update","put","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","filteredPersons","setFilteredPersons","setMessage","useEffect","document","title","phonebookService","phonebook","newPersons","person","toLowerCase","includes","e","preventDefault","target","personExists","length","window","confirm","updateEntry","updatedEntry","map","setTimeout","catch","error","alert","newEntry","createdEntry","removedEntry","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.cce8687c.chunk.js","sourcesContent":["import React from 'react';\n\nconst Entry = ({name, number, removeEntry}) => {\n  const entry = ` ${name} ${number}`;\n  return (\n    <div>\n      <button onClick={removeEntry}>delete</button>\n      {entry}\n    </div>\n  );\n};\n\nexport default Entry;\n","import React from 'react';\n\nconst NewEntry = ({\n  addNewEntry,\n  handleNameChange,\n  handleNumberChange,\n  newName,\n  newNumber,\n}) => {\n  return (\n    <form onSubmit={addNewEntry}>\n      <div>\n        name:\n        <input\n          placeholder='Enter name'\n          value={newName}\n          onChange={handleNameChange}\n        />\n      </div>\n      <div>\n        number:\n        <input\n          placeholder='Enter number'\n          value={newNumber}\n          onChange={handleNumberChange}\n        />\n      </div>\n      <div>\n        <button type='submit'>add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default NewEntry;\n","import React from 'react';\n\nconst Filter = ({ filter, handleFilterChange }) => {\n  return (\n    <div>\n      <input\n        placeholder='Type to filter by name'\n        onChange={handleFilterChange}\n        value={filter}\n      />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n// styles\nimport './notification.css';\n\nconst Notification = ({message}) => {\n  return (\n    <div className='notification' style={{opacity: message ? 1 : 0}}>\n      {message}\n    </div>\n  );\n};\n\nNotification.propTypes = {\n  message: PropTypes.string.isRequired,\n};\n\nexport default Notification;\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then((response) => {\n    console.log(response.data)\n    return response.data\n  })\n}\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then((response) => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then((response) => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then((response) => response.data)\n}\n\nconst exportObject = {\n  getAll,\n  create,\n  remove,\n  update,\n}\n\nexport default exportObject\n","import React, {useState, useEffect} from 'react'\n// Components\nimport Entry from './components/entry'\nimport NewEntry from './components/new-entry'\nimport Filter from './components/filter'\nimport Notification from './components/notification'\n// services getAll, create, remove, update\nimport phonebookService from './services/phonebook'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [filteredPersons, setFilteredPersons] = useState(persons)\n  const [message, setMessage] = useState('')\n\n  useEffect(() => {\n    document.title = 'Phonebook'\n  }, [])\n\n  useEffect(() => {\n    phonebookService // force-break\n      .getAll()\n      .then((phonebook) => {\n        console.log(phonebook)\n        setPersons(phonebook)\n      })\n  }, [])\n\n  const handleNameChange = (e) => {\n    e.preventDefault()\n    setNewName(e.target.value)\n  }\n\n  const handleNumberChange = (e) => {\n    e.preventDefault()\n    setNewNumber(e.target.value)\n  }\n\n  useEffect(() => {\n    setFilteredPersons(persons)\n    if (filter !== '') {\n      const newPersons = persons.filter((person) =>\n        person.name.toLowerCase().includes(filter.toLowerCase())\n      )\n      setFilteredPersons(newPersons)\n    }\n  }, [filter, persons])\n\n  const handleFilterChange = (e) => {\n    e.preventDefault()\n    setFilter(e.target.value)\n  }\n\n  const addNewEntry = (e) => {\n    e.preventDefault()\n    // check if name allready in the phonebook\n    const personExists = persons.filter((person) => person.name === newName)\n    if (personExists.length === 1) {\n      if (\n        window.confirm(\n          `${newName} is allready in the phonebook, update number?`\n        )\n      ) {\n        const updateEntry = {name: newName, number: newNumber}\n        phonebookService\n          .update(personExists[0].id, updateEntry)\n          .then((updatedEntry) => {\n            setPersons(\n              persons.map((person) =>\n                person.id === updatedEntry.id ? updatedEntry : person\n              )\n            )\n            setMessage(`Updated \"${updatedEntry.name}\"`)\n            setTimeout(() => {\n              setMessage('')\n            }, 2000)\n          })\n          .catch((error) => {\n            setMessage(`\"${newName}\" no longer present on the server`)\n          })\n      }\n    } else if (newNumber === '' || newName === '') {\n      window.alert(\"Field can't be empty\")\n    } else {\n      const newEntry = {name: newName, number: newNumber}\n      phonebookService // force-break\n        .create(newEntry)\n        .then((createdEntry) => {\n          setPersons([...persons, createdEntry])\n          setMessage(`Added \"${createdEntry.name}\"`)\n          setNewName('')\n          setNewNumber('')\n          setTimeout(() => {\n            setMessage('')\n          }, 2000)\n        })\n        .catch((error) => {\n          setMessage(error.message)\n          setTimeout(() => setMessage(''), 2000)\n        })\n    }\n  }\n\n  const removeEntry = (id) => {\n    const name = persons.filter((person) => person.id === id)[0].name\n    if (window.confirm(`Remove ${name} from phonebook?`)) {\n      phonebookService.remove(id).then((removedEntry) => {\n        setPersons(persons.filter((person) => person.id !== id))\n        setMessage(`Removed \"${name}\"`)\n        setTimeout(() => {\n          setMessage('')\n        }, 2000)\n      })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <NewEntry\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        addNewEntry={addNewEntry}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <Notification message={message} />\n      <h2>Numbers</h2>\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      {filteredPersons.map((person) => (\n        <Entry\n          key={person.id}\n          name={person.name}\n          number={person.number}\n          removeEntry={() => removeEntry(person.id)}\n        />\n      ))}\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}