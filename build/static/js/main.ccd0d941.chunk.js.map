{"version":3,"sources":["components/entry.js","components/new-entry.js","components/filter.js","components/notification.js","services/phonebook.js","App.js","index.js"],"names":["Entry","name","number","removeEntry","entry","onClick","NewEntry","addNewEntry","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","placeholder","value","onChange","type","Filter","filter","handleFilterChange","Notification","message","notificationClass","state","className","style","opacity","content","baseUrl","exportObject","getAll","axios","get","then","response","data","create","newObject","post","remove","id","delete","update","put","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","filteredPersons","setFilteredPersons","setMessage","useEffect","document","title","phonebookService","phonebook","newPersons","person","toLowerCase","includes","e","preventDefault","target","personExists","length","window","confirm","updateEntry","updatedEntry","map","msg","setTimeout","catch","error","alert","newEntry","createdEntry","removedEntry","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ccd0d941.chunk.js","sourcesContent":["import React from 'react';\n\nconst Entry = ({name, number, removeEntry}) => {\n  const entry = ` ${name} ${number}`;\n  return (\n    <div>\n      <button onClick={removeEntry}>delete</button>\n      {entry}\n    </div>\n  );\n};\n\nexport default Entry;\n","import React from 'react';\n\nconst NewEntry = ({\n  addNewEntry,\n  handleNameChange,\n  handleNumberChange,\n  newName,\n  newNumber,\n}) => {\n  return (\n    <form onSubmit={addNewEntry}>\n      <div>\n        name:\n        <input\n          placeholder='Enter name'\n          value={newName}\n          onChange={handleNameChange}\n        />\n      </div>\n      <div>\n        number:\n        <input\n          placeholder='Enter number'\n          value={newNumber}\n          onChange={handleNumberChange}\n        />\n      </div>\n      <div>\n        <button type='submit'>add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default NewEntry;\n","import React from 'react';\n\nconst Filter = ({ filter, handleFilterChange }) => {\n  return (\n    <div>\n      <input\n        placeholder='Type to filter by name'\n        onChange={handleFilterChange}\n        value={filter}\n      />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from 'react'\nimport PropTypes from 'prop-types'\n// styles\nimport './notification.css'\n\nconst Notification = ({message}) => {\n  let notificationClass = 'notification'\n  notificationClass += message.state === 'success' ? ' success' : ' error'\n  return (\n    <div\n      className={notificationClass}\n      style={{opacity: message.content ? 1 : 0}}\n    >\n      {message.content}\n    </div>\n  )\n}\n\nNotification.propTypes = {\n  message: PropTypes.object.isRequired,\n}\n\nexport default Notification\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then((response) => response.data)\n}\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then((response) => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then((response) => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then((response) => response.data)\n}\n\nconst exportObject = {\n  getAll,\n  create,\n  remove,\n  update,\n}\n\nexport default exportObject\n","import React, {useState, useEffect} from 'react'\n// Components\nimport Entry from './components/entry'\nimport NewEntry from './components/new-entry'\nimport Filter from './components/filter'\nimport Notification from './components/notification'\n// services getAll, create, remove, update\nimport phonebookService from './services/phonebook'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [filteredPersons, setFilteredPersons] = useState(persons)\n\n  // { content: 'the message itself', type: 'info|success|error' }\n  const [message, setMessage] = useState({content: '', state: 'info'})\n\n  useEffect(() => {\n    document.title = 'Phonebook'\n  }, [])\n\n  useEffect(() => {\n    phonebookService // force-break\n      .getAll()\n      .then((phonebook) => setPersons(phonebook))\n  }, [])\n\n  const handleNameChange = (e) => {\n    e.preventDefault()\n    setNewName(e.target.value)\n  }\n\n  const handleNumberChange = (e) => {\n    e.preventDefault()\n    setNewNumber(e.target.value)\n  }\n\n  useEffect(() => {\n    setFilteredPersons(persons)\n    if (filter !== '') {\n      const newPersons = persons.filter((person) =>\n        person.name.toLowerCase().includes(filter.toLowerCase())\n      )\n      setFilteredPersons(newPersons)\n    }\n  }, [filter, persons])\n\n  const handleFilterChange = (e) => {\n    e.preventDefault()\n    setFilter(e.target.value)\n  }\n\n  const addNewEntry = (e) => {\n    e.preventDefault()\n    const personExists = persons.filter((person) => person.name === newName)\n    if (personExists.length === 1) {\n      if (\n        window.confirm(\n          `${newName} is allready in the phonebook, update number?`\n        )\n      ) {\n        const updateEntry = {name: newName, number: newNumber}\n        phonebookService\n          .update(personExists[0].id, updateEntry)\n          .then((updatedEntry) => {\n            setPersons(\n              persons.map((person) =>\n                person.id === updatedEntry.id ? updatedEntry : person\n              )\n            )\n            const msg = {\n              content: `Updated \"${updatedEntry.name}\"`,\n              state: 'success',\n            }\n            setMessage(msg)\n            setTimeout(() => {\n              setMessage({content: '', state: 'info'})\n            }, 3000)\n          })\n          .catch((error) => {\n            const msg = {\n              content: `\"${newName}\" no longer present on the server`,\n              state: 'error',\n            }\n            setMessage(msg)\n            setTimeout(() => {\n              setMessage({content: '', state: 'info'})\n            }, 3000)\n          })\n      }\n    } else if (newNumber === '' || newName === '') {\n      window.alert(\"Field can't be empty\")\n    } else {\n      const newEntry = {name: newName, number: newNumber}\n      phonebookService // force-break\n        .create(newEntry)\n        .then((createdEntry) => {\n          setPersons([...persons, createdEntry])\n\n          const msg = {\n            content: `Added \"${createdEntry.name}\"`,\n            state: 'success',\n          }\n\n          setMessage(msg)\n          setNewName('')\n          setNewNumber('')\n          setTimeout(() => {\n            setMessage({content: '', state: 'info'})\n          }, 3000)\n        })\n        .catch((error) => {\n          const msg = {\n            content: error.response.data.error,\n            state: 'error',\n          }\n\n          setMessage(msg)\n          setTimeout(() => {\n            setMessage({content: '', state: 'info'})\n          }, 3000)\n        })\n    }\n  }\n\n  const removeEntry = (id) => {\n    const name = persons.filter((person) => person.id === id)[0].name\n    if (window.confirm(`Remove ${name} from phonebook?`)) {\n      phonebookService.remove(id).then((removedEntry) => {\n        setPersons(persons.filter((person) => person.id !== id))\n        const msg = {content: `Removed \"${name}\"`, state: 'success'}\n        setMessage(msg)\n        setTimeout(() => {\n          setMessage({content: '', state: 'info'})\n        }, 3000)\n      })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <NewEntry\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        addNewEntry={addNewEntry}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <Notification message={message} />\n      <h2>Numbers</h2>\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      {filteredPersons.map((person) => (\n        <Entry\n          key={person.id}\n          name={person.name}\n          number={person.number}\n          removeEntry={() => removeEntry(person.id)}\n        />\n      ))}\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}